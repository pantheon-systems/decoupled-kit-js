{"version":3,"sources":["../../src/utils/require-gatsby-plugin.ts"],"names":["pluginModuleCache","Map","setGatsbyPluginCache","plugin","module","moduleObject","key","name","set","requireGatsbyPlugin","pluginModule","get","require","resolvedCompiledGatsbyNode","resolve"],"mappings":";;;;;AAAA,MAAMA,iBAAiB,GAAG,IAAIC,GAAJ,EAA1B;;AAEO,SAASC,oBAAT,CACLC,MADK,EAELC,MAFK,EAGLC,YAHK,EAIC;AACN,QAAMC,GAAG,GAAI,GAAEH,MAAM,CAACI,IAAK,IAAGH,MAAO,EAArC;AACAJ,EAAAA,iBAAiB,CAACQ,GAAlB,CAAsBF,GAAtB,EAA2BD,YAA3B;AACD;;AAEM,SAASI,mBAAT,CACLN,MADK,EAMLC,MANK,EAOA;AACL,QAAME,GAAG,GAAI,GAAEH,MAAM,CAACI,IAAK,IAAGH,MAAO,EAArC;AAEA,MAAIM,YAAY,GAAGV,iBAAiB,CAACW,GAAlB,CAAsBL,GAAtB,CAAnB;;AACA,MAAI,CAACI,YAAL,EAAmB;AACjBA,IAAAA,YAAY,GAAGE,OAAO,CAACR,MAAM,KAAM,aAAZ,IACrBD,MAAM,CAACU,0BADc,GAEnBV,MAAM,CAACU,0BAFY,GAGlB,GAAEV,MAAM,CAACW,OAAQ,IAAGV,MAAO,EAHV,CAAtB;AAIAJ,IAAAA,iBAAiB,CAACQ,GAAlB,CAAsBF,GAAtB,EAA2BI,YAA3B;AACD;;AACD,SAAOA,YAAP;AACD","sourcesContent":["const pluginModuleCache = new Map<string, any>()\n\nexport function setGatsbyPluginCache(\n  plugin: { name: string; resolve: string },\n  module: string,\n  moduleObject: any\n): void {\n  const key = `${plugin.name}/${module}`\n  pluginModuleCache.set(key, moduleObject)\n}\n\nexport function requireGatsbyPlugin(\n  plugin: {\n    name: string\n    resolve: string\n    resolvedCompiledGatsbyNode?: string\n  },\n  module: string\n): any {\n  const key = `${plugin.name}/${module}`\n\n  let pluginModule = pluginModuleCache.get(key)\n  if (!pluginModule) {\n    pluginModule = require(module === `gatsby-node` &&\n      plugin.resolvedCompiledGatsbyNode\n      ? plugin.resolvedCompiledGatsbyNode\n      : `${plugin.resolve}/${module}`)\n    pluginModuleCache.set(key, pluginModule)\n  }\n  return pluginModule\n}\n"],"file":"require-gatsby-plugin.js"}