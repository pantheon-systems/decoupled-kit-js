{"version":3,"sources":["../../../src/internal-plugins/webpack-theme-component-shadowing/create-page.js"],"names":["GatsbyThemeComponentShadowingResolverPlugin","require","store","module","exports","pageComponent","shadowingPlugin","extensions","getState","program","themes","flattenedPlugins","map","aPlugin","themeDir","pluginFilepath","themeName","name","projectRoot","directory","theme","component","getThemeAndComponent","componentPath","resolveComponentPath","originalRequestComponent"],"mappings":";;AAAA,MAAMA,2CAA2C,GAAGC,OAAO,CAAE,GAAF,CAA3D;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAYD,OAAO,CAAE,aAAF,CAAzB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,UAAUC,aAAV,EAAyB;AACxC,QAAMC,eAAe,GAAG,IAAIN,2CAAJ,CAAgD;AACtEO,IAAAA,UAAU,EAAEL,KAAK,CAACM,QAAN,GAAiBC,OAAjB,CAAyBF,UADiC;AAEtEG,IAAAA,MAAM,EAAER,KAAK,CAACM,QAAN,GAAiBG,gBAAjB,CAAkCC,GAAlC,CAAsCC,OAAO,IAAI;AACvD,aAAO;AACLC,QAAAA,QAAQ,EAAED,OAAO,CAACE,cADb;AAELC,QAAAA,SAAS,EAAEH,OAAO,CAACI;AAFd,OAAP;AAID,KALO,CAF8D;AAQtEC,IAAAA,WAAW,EAAEhB,KAAK,CAACM,QAAN,GAAiBC,OAAjB,CAAyBU;AARgC,GAAhD,CAAxB;AAUA,QAAM,CAACC,KAAD,EAAQC,SAAR,IAAqBf,eAAe,CAACgB,oBAAhB,CAAqCjB,aAArC,CAA3B;;AAEA,MAAIe,KAAJ,EAAW;AACT,UAAMG,aAAa,GAAGjB,eAAe,CAACkB,oBAAhB,CAAqC;AACzDJ,MAAAA,KADyD;AAEzDC,MAAAA,SAFyD;AAGzDI,MAAAA,wBAAwB,EAAEpB;AAH+B,KAArC,CAAtB;;AAKA,QAAIkB,aAAJ,EAAmB;AACjB,aAAOA,aAAP;AACD;AACF;;AACD,SAAO,KAAP;AACD,CAxBD","sourcesContent":["const GatsbyThemeComponentShadowingResolverPlugin = require(`.`)\nconst { store } = require(`../../redux`)\n\nmodule.exports = function (pageComponent) {\n  const shadowingPlugin = new GatsbyThemeComponentShadowingResolverPlugin({\n    extensions: store.getState().program.extensions,\n    themes: store.getState().flattenedPlugins.map(aPlugin => {\n      return {\n        themeDir: aPlugin.pluginFilepath,\n        themeName: aPlugin.name,\n      }\n    }),\n    projectRoot: store.getState().program.directory,\n  })\n  const [theme, component] = shadowingPlugin.getThemeAndComponent(pageComponent)\n\n  if (theme) {\n    const componentPath = shadowingPlugin.resolveComponentPath({\n      theme,\n      component,\n      originalRequestComponent: pageComponent,\n    })\n    if (componentPath) {\n      return componentPath\n    }\n  }\n  return false\n}\n"],"file":"create-page.js"}