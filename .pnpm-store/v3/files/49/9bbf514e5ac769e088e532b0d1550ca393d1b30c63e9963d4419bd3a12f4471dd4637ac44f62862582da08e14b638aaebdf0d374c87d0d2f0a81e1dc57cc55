{"version":3,"sources":["../../src/steps/log-post-build-warnings.ts"],"names":["logPostBuildWarnings","postBuildWarningCounts","maxFileSizeBytesExceeded","mimeTypeExcluded","gatsbyApi","helpers","reporter","store","getState","helpUrl","helpText","message","warn"],"mappings":";;;;;;;AACA;;AACA;;AAEO,MAAMA,oBAA0B,GAAG,YAA2B;AACnE,QAAM;AACJC,IAAAA,sBAAsB,EAAE;AAAEC,MAAAA,wBAAF;AAA4BC,MAAAA;AAA5B,KADpB;AAEJC,IAAAA,SAAS,EAAE;AACTC,MAAAA,OAAO,EAAE;AAAEC,QAAAA;AAAF;AADA;AAFP,MAKFC,eAAMC,QAAN,EALJ;;AAOA,QAAMC,OAAO,GAAI,mJAAjB;AAEA,QAAMC,QAAQ,GAAI,SAAQD,OAAQ,iBAAlC;;AAEA,MAAIP,wBAAwB,GAAG,CAA/B,EAAkC;AAChC,UAAMS,OAAO,GAAG,wCACb,cAAaT,wBAAyB,+GAA8GQ,QAAS,EADhJ,CAAhB;AAIAJ,IAAAA,QAAQ,CAACM,IAAT,CAAcD,OAAd;AACD;;AAED,MAAIR,gBAAgB,GAAG,CAAvB,EAA0B;AACxB,UAAMQ,OAAO,GAAG,wCACb,cAAaR,gBAAiB,wHAAuHO,QAAS,EADjJ,CAAhB;AAIAJ,IAAAA,QAAQ,CAACM,IAAT,CAAcD,OAAd;AACD;AACF,CA3BM","sourcesContent":["import { Step } from \"./../utils/run-steps\"\nimport store from \"~/store\"\nimport { formatLogMessage } from \"~/utils/format-log-message\"\n\nexport const logPostBuildWarnings: Step = async (): Promise<void> => {\n  const {\n    postBuildWarningCounts: { maxFileSizeBytesExceeded, mimeTypeExcluded },\n    gatsbyApi: {\n      helpers: { reporter },\n    },\n  } = store.getState()\n\n  const helpUrl = `https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-source-wordpress/docs/debugging-and-troubleshooting.md#media-file-download-skipped`\n\n  const helpText = `Visit ${helpUrl} for more info.`\n\n  if (maxFileSizeBytesExceeded > 0) {\n    const message = formatLogMessage(\n      `There were ${maxFileSizeBytesExceeded} files with file sizes that are above the maxFileSizeBytes config option and consequently were not fetched. ${helpText}`\n    )\n\n    reporter.warn(message)\n  }\n\n  if (mimeTypeExcluded > 0) {\n    const message = formatLogMessage(\n      `There were ${mimeTypeExcluded} files with mime types that were included in the excludeByMimeTypes config option and consequently were not fetched. ${helpText}`\n    )\n\n    reporter.warn(message)\n  }\n}\n"],"file":"log-post-build-warnings.js"}