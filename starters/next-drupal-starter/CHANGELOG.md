# @pantheon-systems/next-drupal-starter

## 4.0.1-canary.0

### Patch Changes

- 0b9db20: Pantheon Environment Docs

## 4.0.0

### Major Changes

- 0af5b4f: React 18 and Next 13 updates

### Patch Changes

- Updated dependencies [41221dc]
  - @pantheon-systems/nextjs-kit@1.7.0

## 4.0.0-canary.0

### Major Changes

- 0af5b4f: React 18 and Next 13 updates

### Patch Changes

- Updated dependencies [41221dc]
  - @pantheon-systems/nextjs-kit@1.7.0-canary.0

## 3.8.0

### Minor Changes

- 4d36cc3: Set IS_LIVE_ENVIRONMENT Environment Variable

### Patch Changes

- 1c63118: Fix 404 on preview when content is missing url alias
- 07159e7: Support Inline Images In Drupal Body Field
- d85500a: Add an error message to `getPreview` in case `fetchedPreviewData` is
  a draft and has no `id`
- Updated dependencies [4188395]
  - @pantheon-systems/drupal-kit@4.1.0

## 3.8.0-canary.1

### Patch Changes

- d85500a: Add an error message to `getPreview` in case `fetchedPreviewData` is
  a draft and has no `id`
- Updated dependencies [4188395]
  - @pantheon-systems/drupal-kit@4.1.0-canary.0

## 3.8.0-canary.0

### Minor Changes

- 4d36cc3: Set IS_LIVE_ENVIRONMENT Environment Variable

### Patch Changes

- 1c63118: Fix 404 on preview when content is missing url alias
- 07159e7: Support Inline Images In Drupal Body Field

## 3.7.0

### Minor Changes

- 56898ad: Return error from getPreview catch, and redirect on that error
- c32b6cb: Create Preview Error Route
- b5fae1d: Removed preview-ribbon component and use the one from next-kit

### Patch Changes

- Updated dependencies [276c9d2]
- Updated dependencies [b5fae1d]
- Updated dependencies [a529abf]
  - @pantheon-systems/nextjs-kit@1.6.0

## 3.7.0-canary.2

### Patch Changes

- Updated dependencies [276c9d2]
  - @pantheon-systems/nextjs-kit@1.6.0-canary.2

## 3.7.0-canary.1

### Minor Changes

- 56898ad: Return error from getPreview catch, and redirect on that error

### Patch Changes

- Updated dependencies [a529abf]
  - @pantheon-systems/nextjs-kit@1.6.0-canary.1

## 3.7.0-canary.0

### Minor Changes

- c32b6cb: Create Preview Error Route
- b5fae1d: Removed preview-ribbon component and use the one from next-kit

### Patch Changes

- Updated dependencies [b5fae1d]
  - @pantheon-systems/nextjs-kit@1.6.0-canary.0

## 3.6.0

### Minor Changes

- 896d70a: Refactor stores to use DS auth/anon request flow feature

### Patch Changes

- Updated dependencies [a5c4275]
- Updated dependencies [cd286c6]
  - @pantheon-systems/drupal-kit@4.0.0

## 3.6.0-canary.0

### Minor Changes

- 896d70a: Refactor stores to use DS auth/anon request flow feature

### Patch Changes

- Updated dependencies [a5c4275]
- Updated dependencies [cd286c6]
  - @pantheon-systems/drupal-kit@4.0.0-canary.0

## 3.5.0

### Minor Changes

- c3e7af3: Automatically set `FRONTEND_URL`

### Patch Changes

- 633399d: Add .nvmrc file
- Updated dependencies [824a01b]
- Updated dependencies [b4eb5ea]
  - @pantheon-systems/nextjs-kit@1.5.0

## 3.5.0-canary.0

### Minor Changes

- c3e7af3: Automatically set `FRONTEND_URL`

### Patch Changes

- 633399d: Add .nvmrc file
- Updated dependencies [824a01b]
- Updated dependencies [b4eb5ea]
  - @pantheon-systems/nextjs-kit@1.5.0-canary.0

## 3.4.0

### Minor Changes

- 733e6f1: Automatically use the `PANTHEON_UPLOAD_PATH` as `basePath`
- 138cc6a: Implement `@pantheon-systems/nextjs-kit` components into the starter

### Patch Changes

- b448700: Updated snapshot for updated paginator component
- 178d9c9: Revert block editor alignment options.
- Updated dependencies [178d9c9]
- Updated dependencies [936b1b5]
- Updated dependencies [b3fd47c]
  - @pantheon-systems/nextjs-kit@1.4.0

## 3.4.0-canary.2

### Patch Changes

- 178d9c9: Revert block editor alignment options.
- Updated dependencies [178d9c9]
  - @pantheon-systems/nextjs-kit@1.4.0-canary.2

## 3.4.0-canary.1

### Patch Changes

- b448700: Updated snapshot for updated paginator component
- Updated dependencies [86ec3f2]
- Updated dependencies [936b1b5]
- Updated dependencies [19259ac]
  - @pantheon-systems/nextjs-kit@1.4.0-canary.1

## 3.4.0-canary.0

### Minor Changes

- 733e6f1: Automatically use the `PANTHEON_UPLOAD_PATH` as `basePath`
- 138cc6a: Implement `@pantheon-systems/nextjs-kit` components into the starter

### Patch Changes

- Updated dependencies [b3fd47c]
  - @pantheon-systems/nextjs-kit@1.3.1-canary.0

## 3.3.0

### Minor Changes

- 74ce69e: Upgraded `next` to v12.3.1

### Patch Changes

- 4c2761b: Add pagination for posts and pages in next-wordpress-starter
- Updated dependencies [74ce69e]
- Updated dependencies [4c2761b]
- Updated dependencies [74ce69e]
- Updated dependencies [aea42f5]
  - @pantheon-systems/nextjs-kit@1.3.0
  - @pantheon-systems/drupal-kit@3.1.0

## 3.3.0-canary.1

### Patch Changes

- 4c2761b: Add pagination for posts and pages in next-wordpress-starter
- Updated dependencies [4c2761b]
  - @pantheon-systems/nextjs-kit@1.3.0-canary.1

## 3.3.0-canary.0

### Minor Changes

- 74ce69e: Upgraded `next` to v12.3.1

### Patch Changes

- Updated dependencies [74ce69e]
- Updated dependencies [74ce69e]
- Updated dependencies [aea42f5]
  - @pantheon-systems/nextjs-kit@1.3.0-canary.0
  - @pantheon-systems/drupal-kit@3.1.0-canary.0

## 3.2.0

### Minor Changes

- 2bfe07a: Remove pantheon logo for cards that don't have featured image, and
  use a generic gradient instead

### Patch Changes

- 5c113bb: Fix markup on Pagination Example page
- e64608e: Fix accidental revert of preview.js file
- Updated dependencies [8b9cb28]
- Updated dependencies [c36d501]
- Updated dependencies [6671402]
- Updated dependencies [c6e0a77]
- Updated dependencies [9dbbc6b]
  - @pantheon-systems/nextjs-kit@1.2.0
  - @pantheon-systems/drupal-kit@3.0.1

## 3.2.0-canary.2

### Patch Changes

- 5c113bb: Fix markup on Pagination Example page
- Updated dependencies [c6e0a77]
  - @pantheon-systems/nextjs-kit@1.2.0-canary.1

## 3.2.0-canary.1

### Minor Changes

- 2bfe07a: Remove pantheon logo for cards that don't have featured image, and
  use a generic gradient instead

### Patch Changes

- Updated dependencies [8b9cb28]
- Updated dependencies [c36d501]
- Updated dependencies [6671402]
- Updated dependencies [9dbbc6b]
  - @pantheon-systems/nextjs-kit@1.2.0-canary.0
  - @pantheon-systems/drupal-kit@3.0.1-canary.0

## 3.1.1-canary.0

### Patch Changes

- e64608e: Fix accidental revert of preview.js file

## 3.1.0

### Minor Changes

- e5de512: Added ribbon in preview mode, and refactor clear to go back to the
  article/page
- 960244e: Added timestamp as query parameter to break cache

### Patch Changes

- 76572c8: Removed query option and added param filters to getObject calls that
  would benefit from filtered responses.
- 8943464: Derive IMAGE_DOMAIN from the backend url when it is https or http
- e018604: Fix import in preview api route
- 66aeea3: Upgraded next to latest version, changed starter kits to build and
  start using standalone output mode.
- ee835e8: Update prettierrc and reformat spaces -> tabs for accessibility
- 2e734f4: DB-3611: Added Paginator component from the nextjs-kit to the
  pagination example in the next-drupal-starter.
- Updated dependencies [3ffcbbe]
- Updated dependencies [547ee6e]
- Updated dependencies [66aeea3]
- Updated dependencies [ee835e8]
  - @pantheon-systems/drupal-kit@3.0.0
  - @pantheon-systems/nextjs-kit@1.1.0

## 3.1.0-canary.2

### Patch Changes

- 76572c8: Removed query option and added param filters to getObject calls that
  would benefit from filtered responses.
- e018604: Fix import in preview api route
- ee835e8: Update prettierrc and reformat spaces -> tabs for accessibility
- 2e734f4: DB-3611: Added Paginator component from the nextjs-kit to the
  pagination example in the next-drupal-starter.
- Updated dependencies [3ffcbbe]
- Updated dependencies [ee835e8]
  - @pantheon-systems/drupal-kit@3.0.0-canary.0
  - @pantheon-systems/nextjs-kit@1.1.0-canary.2

## 3.1.0-canary.1

### Minor Changes

- e5de512: Added ribbon in preview mode, and refactor clear to go back to the
  article/page
- 960244e: Added timestamp as query parameter to break cache

### Patch Changes

- Updated dependencies [547ee6e]
  - @pantheon-systems/nextjs-kit@1.1.0-canary.1

## 3.0.2-canary.0

### Patch Changes

- 8943464: Derive IMAGE_DOMAIN from the backend url when it is https or http
- 66aeea3: Upgraded next to latest version, changed starter kits to build and
  start using standalone output mode.
- Updated dependencies [66aeea3]
  - @pantheon-systems/nextjs-kit@1.0.1-canary.0

## 3.0.1

### Patch Changes

- 598f7ca: Update imports from nextjs-kit
- 0158d9d: Implemented the `sortDate` helper on all relevant index pages
- 56ec318: Added a helpful error message in case a CMS backend endpoint is not
  set
- Updated dependencies [0158d9d]
- Updated dependencies [598f7ca]
- Updated dependencies [52e470a]
  - @pantheon-systems/nextjs-kit@1.0.0
  - @pantheon-systems/drupal-kit@2.2.0

## 3.0.1-canary.1

### Patch Changes

- 598f7ca: Update imports from nextjs-kit
- Updated dependencies [598f7ca]
  - @pantheon-systems/nextjs-kit@1.0.0-canary.1

## 3.0.1-canary.0

### Patch Changes

- 0158d9d: Implemented the `sortDate` helper on all relevant index pages
- 56ec318: Added a helpful error message in case a CMS backend endpoint is not
  set
- Updated dependencies [0158d9d]
- Updated dependencies [52e470a]
  - @pantheon-systems/nextjs-kit@0.1.1-canary.0
  - @pantheon-systems/drupal-kit@2.2.0-canary.0

## 3.0.0

### Major Changes

- bedb924: ## Breaking Change

  Removed `DrupalStateContext` that was wrapping the application. If you were
  using `dsContext` you will need to reimplement it after upgrading. If you were
  not utilizing the `dsContext`, you may need to update your imports from
  `drupalStateContext` to `stores`.

### Minor Changes

- 0ca05c4: Changed starter kit default to SSR, added examples index page and ISR
  example.
- 88671a4: [next-drupal-starter] Added a catchall route for basic content types:
  recipe, article, and page.
- 575c4cc: [next-drupal-starter] Refactor getPreview to use params on the key to
  take advantage of DrupalState 3.1.0 features

### Patch Changes

- 7d35547: Updated snapshot tests and adjusted ISR example to use PageHeader
  component.
- eea71a7: Fix import for BUILD_MODE in `pages/examples/auth-api`
- 71dd9ed: Add BUILD_MODE constant as a switch for DrupalState's refresh option
- Updated dependencies [88671a4]
- Updated dependencies [92d0c44]
  - @pantheon-systems/drupal-kit@2.1.0

## 2.0.3

### Patch Changes

- e73d956: [next-drupal-starter] Added snapshot tests for each page route

## 2.0.2

### Patch Changes

- 1af68d0: [next-drupal-starter] Use objectName from the req.query in
  /api/preview
- d5a07c9: [next-drupal-starter] Fixed a bug with previewing revisions
- 9515782: [next-drupal-starter] Added unit tests
- 2f72e82: Fix a typo in the class of the link in the Article component

## 2.0.1

### Patch Changes

- 05573a8: [next-drupal-starter] Remove query from getPaths call to
  store.getObject to prevent subsequent calls from getting incorrect data from
  the store

## 2.0.0

### Major Changes

- de12430: [next-drupal-starter] Updated starter to work with the new version of
  drupal-kit

  ### Breaking

  `PantheonDrupalState` from the `drupal-kit` dependency no longer stores
  DrupalJsonapiParams in its state. See
  https://git.drupalcode.org/project/drupal_state#request-parameters for more
  information.

### Patch Changes

- Updated dependencies [de12430]
  - @pantheon-systems/drupal-kit@2.0.0

## 1.1.5

### Patch Changes

- 4fd56af: [next-drupal-starter] Bugfixes to page path
- c8d3127: [next-drupal-starter] Added helper function to consolidate code from
  getStaticPaths
- 27ee3e1: Resolved regression preventing footer menu from rendering.
- 62595b7: [next-drupal-starter] Minor bugfixes to grid component and more
  robust handling of href locale
- Updated dependencies [bde6a66]
  - @pantheon-systems/drupal-kit@1.1.5

## 1.1.4

### Patch Changes

- 0fb93d0: [drupal-kit] Upgrade @gdwc/drupal-state to v2.7.0
  [next-drupal-starter] Use the new refresh option when preview is true
- 3f35b8a: [next-drupal-starter] Refactor examples/auth-api
- 9483b9e: [next-drupal-starter] Added helper function for handling preview data
  and preview implemented on all content types
- Updated dependencies [0fb93d0]
  - @pantheon-systems/drupal-kit@1.1.4

## 1.1.3

### Patch Changes

- 40c4a56: [next-drupal-starter] Created components based on pages to DRY up
  code

## 1.1.2

### Patch Changes

- fdae978: [next-drupal-starter] Extract DrupalState stores into React Context
- ce38441: [next-drupal-starter] Preview redirects based on data and better
  error handling for preview

## 1.1.0

### Patch Changes

- 64b63dc: [drupal-kit][next-drupal-starter] Update DrupalState version
- Updated dependencies [64b63dc]
  - @pantheon-systems/drupal-kit@1.1.0

## 1.0.5

### Patch Changes

- f684b85: Expose FRONTEND_URL to properly set hrefLang
- 4b390e4: Update homepage callout text and logo.
- 86f5025: Adds `sharp` to next-drupal-starter for production image processing

## 1.0.4

### Patch Changes

- 8a13bf2: [next-drupal] Remove postinstall script, refine readme for .env
  configuration

## 1.0.3

### Patch Changes

- 9f7bc9a: [next-drupal] Change .env.local to .env.development.local so it does
  not load in production

## 1.0.2

### Patch Changes

- 8b69fad: Further refined env variable config
- f9974ac: Update READMEs and package.json metadata
- Updated dependencies [f9974ac]
  - @pantheon-systems/drupal-kit@1.0.2

## 1.0.1

### Patch Changes

- 81e00e7: Add package-lock.json to gatsby-wordpress-starter and
  next-drupal-starter for distribution.
- e304470: Reconfigure env vars so empty BACKEND_URL does not fail builds on
  infra
